# 商家员工页面使用说明

## 如何进入商家员工页面

商家员工页面是专门为 `staff` 角色设计的扫码验票页面。进入方式如下：

### 方式一：自动跳转（推荐）

1. **登录商家账号**
   - 访问 `/merchant/auth/login`
   - 使用员工账号登录（角色必须是 `staff`）

2. **自动跳转**
   - 登录成功后，系统会自动检测用户角色
   - 如果角色是 `staff`，会自动跳转到 `/merchant/scan`（扫码页面）
   - 无需输入任何密码，直接可以使用扫码功能

### 方式二：直接访问

1. **前提条件**
   - 必须已经登录商家账号（localStorage 中有 `merchantToken` 和 `merchantUser`）
   - 用户角色必须是 `staff`

2. **直接访问**
   - 访问 `/merchant/scan`
   - 如果没有登录，会自动跳转到登录页面

## 员工页面功能

商家员工页面（`/merchant/scan`）提供以下功能：

1. **扫码验票**
   - 使用摄像头扫描票券二维码
   - 手动输入票券代码
   - 核销票券（只能核销本商家的票券）

2. **导航栏**
   - 显示 "Scan Tickets" 按钮
   - 显示登出功能
   - **不显示** Dashboard、Events、Revenue 等老板功能

## Boss 和 Staff 的区别

### Boss（老板）
- 访问 `/merchant` 需要输入第二重密码（默认：`boss123`）
- 可以看到所有功能：Dashboard、Events、Revenue、Scan Tickets
- 可以管理活动、查看流水等

### Staff（员工）
- 访问 `/merchant` 会自动跳转到 `/merchant/scan`
- 只能看到扫码功能
- 无需输入密码，直接使用

## 数据库设置

在数据库中，员工需要在 `merchant_members` 表中设置为 `staff` 角色：

```sql
INSERT INTO merchant_members (merchant_id, user_id, role)
VALUES ('merchant_uuid', 'user_uuid', 'staff');
```

## 注意事项

1. 第二重密码（Boss 专用）目前硬编码为 `boss123`，建议后续改为环境变量或后端配置
2. 员工无法访问 Dashboard、Events、Revenue 等功能页面
3. 员工只能核销本商家的票券，无法核销其他商家的票券

